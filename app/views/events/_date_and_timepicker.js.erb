$(".no_javascript").after(
  "<div class='javascript'><input type='date' id='start_datepicker' name='event[start_date]' class= 'datepicker small-font' value= <%= @event.present? ? @event.start_date.month.to_s + "/" + @event.start_date.day.to_s + "/" + @event.start_date.year.to_s : "" %>> <%=escape_javascript(link_to "Start date", "javascript:start_datepicker_setdate()")%><br/> "  
	+ "<input type='time' id='start_timepicker' name='event[start_hour]' class='timepicker small-font' value= <%= @event.present? ? @event.start_date.to_time.hour.to_s + ":" + @event.start_date.to_time.min.to_s + ":" + @event.start_date.to_time.sec.to_s : "" %>> <%=escape_javascript(link_to "Start hour", "javascript:start_timepicker_setTime()")%><br/>"   
	+ "<input type='date' id='end_datepicker' name='event[end_date]' class='datepicker small-font'value= <%= @event.present? ? @event.end_date.month.to_s + "/" + @event.end_date.day.to_s + "/" + @event.end_date.year.to_s : "" %>> <%=escape_javascript(link_to "End date", "javascript:end_datepicker_setdate()")%><br/>"
	+ "<input type='time' id='end_timepicker' name='event[end_hour]' class='timepicker small-font' value= <%= @event.present? ? @event.end_date.to_time.hour.to_s + ":" + @event.end_date.to_time.min.to_s + ":" + @event.end_date.to_time.sec.to_s : "" %>> <%=escape_javascript(link_to "End hour", "javascript:end_timepicker_setTime()", :class => "timepicker_launcher")%></div>"

);
$(".no_javascript").remove();

/*
 * Timepicker and datepicker configuration
 */

$(".datepicker").datepicker();
$('.timepicker').timeEntry({show24Hours: true, showSeconds: true, spinnerImage: '../../images/ui/up-down.png', 
    spinnerSize: [15, 16, 0], spinnerBigSize: [30, 32, 0], spinnerIncDecOnly: true, show24Hours: true });

start_timepicker_setTime = function(){
  $("#start_timepicker").timeEntry('setTime');
};


/*
 * Timepicker and datepicker launch functions
 */

end_timepicker_setTime = function(){
  if($("#start_timepicker").val()!=""){
    $("#end_timepicker").val($("#start_timepicker").val());
  }else{
    $("#end_timepicker").timeEntry('setTime');
  }
};

start_datepicker_setdate = function(){
  $("#start_datepicker").datepicker('show');
};

end_datepicker_setdate = function(){
  $("#end_datepicker").datepicker('show');
};

/*
 * Jquery timepicker calls to set timepicker clicking time
 */

$("#start_timepicker").click(function(){
  if($(this).val()==""){
    start_timepicker_setTime()
	}
});

$("#end_timepicker").click(function(){
  if($(this).val()==""){
	  end_timepicker_setTime()
	}
});