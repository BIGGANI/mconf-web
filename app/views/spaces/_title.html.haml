// Locals:
//   space (Space): the target space
//   full (boolean): show the expanded content?

- full = set_default(local_assigns, :full, true)

- cls = full ? '' : 'simplified'
#space-title{ class: cls }
  .current-page-title
    - if space.name.size > 60
      .main-title.small-title
        = link_to space_path(space) do
          = sanitize(first_words(space.name, 60))
    - else
      .main-title
        = link_to space_path(space) do
          = sanitize(space.name)
    - if space.public
      .resource-visibility.public
        = icon_space_public
        = t(".public")
    - else
      .resource-visibility.private
        = icon_space_private
        = t(".private")
    - if user_signed_in? && space.users.include?(current_user)
      %span.user-is-member
        = icon_is_member
        = t(".is_member")
    .sub-title
      -# = sanitize(first_words(space.description, 150))
      = sanitize(space.description)
  .current-page-logo
    .current-page-logo-content
      = link_to space_path(space) do
        = logo_image(space, :size => "168x128", :title => space.name)
