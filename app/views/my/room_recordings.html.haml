- if params[:partial]
  = render :partial => 'my/recording_list', :locals => { :recordings => @recordings, :show_authors => false }

- else

  = content_for :page_header do
    = render :partial => "page_header"

  #my-webconference-recordings.content-block
    .content-block-header
      %h3= t('.title')

      -# a form to trigger the method that will fetch the recordings in the webconf server
      -# TODO: setting data-type to html because bigbluebutton_rails is not returning a proper json on success
      = form_tag fetch_recordings_bigbluebutton_room_path(@room, :format => 'json'), :method => :post, :remote => true, :id => 'my-webconference-recordings-fetch', 'data-type' => 'html' do
        #my-webconference-recordings-error
          %span= t(".update_recordings.error")
          = icon_error
        #my-webconference-recordings-success
          %span= t(".update_recordings.success")
          = icon_success
        #my-webconference-recordings-loading
          %span= t(".update_recordings.updating")
          = icon_in_progress
      -# a form to get the html with the list of recordings after the list is updated
      = form_tag room_recordings_path(@room, :partial => true), :remote => true, :id => 'my-webconference-recordings-update'

    #my-webconference-recordings-wrapper.content-block-middle
      = render :partial => 'my/recording_list', :locals => { :recordings => @recordings, :show_authors => false }
