@import "compass/utilities/general";

// import bootstrap's default variables so we have access to them
// especially important when using bootstrap's mixins (wherever we
// import bootstrap/mixins)
@import "bootstrap/variables";

// fonts
$m-font-mini: 10px;
$m-font-small: 11px;
$m-font-normal: 13px;
$m-font-medium: 14px;
$m-font-big: 16px;
$m-font-bigger: 21px;
$m-font-biggest: 25px;
$m-font-gigantic: 28px;
$m-font-section-title: 28px;
$m-font-color: #333;
$m-font-color-gray: #888;
$m-font-family: Arial, sans-serif;
$m-base-line-height: 1.5;

// standard colors
$m-green: #509F00;
$m-blue: #005fca;
$m-red: #C23321;
$m-orange: #C47322;
$m-yellow: #BB9403;
$m-green-logo: #27535C;
$m-gray: #ccc;
$m-dark-gray: #666;
$m-light-gray: #f6f6f6;
$m-very-light-gray: #fcfcfc;
$m-bright-blue: #49afcd;
$m-transparent: rgba(255,255,255,0);
// site colors
$m-site-bg-color: #fff;
$m-main-color: $m-green-logo;
$m-second-color: $m-bright-blue;
$m-focus-border-color: $m-second-color;
$m-font-h-color: $m-green-logo;
// link colors
$m-link-color: #4183C4; //darken($m-bright-blue, 10); //#1C774D; //#1a925b; //lighten($m-green-logo, 10); //lighten($m-main-color, 15);
$m-link-color-hover: $m-bright-blue; //m-orange;
$m-link-color-active: darken($m-link-color-hover, 15);

// alert colors, like the ones in bootstrap alerts
$m-alert-bg: #FCF8E3;
$m-alert-font: #C09853;
$m-alert-success-bg: #DFF0D8;
$m-alert-success-font: #468847;
$m-alert-info-bg: #D9EDF7;
$m-alert-info-font: #3A87AD;
$m-alert-danger-bg: #F2DEDE;
$m-alert-danger-font: #B94A48;
$m-alert-gray-bg: #f6f6f6;
$m-alert-gray-font: #666;

// color for elements highlighted using rails' highlight() view helper.
$m-highlight-bg: #ffff81;

// width of the central container and standard sidebar
$m-contents-width: 980px;
$m-contents-max-width: 1180px;
$m-sidebar-width: 240px;

// headers
$m-navbar-bg-color-dark: darken($m-green-logo, 3);
$m-navbar-bg-color-light: $m-green-logo;
$m-subnav-bg-color: #eee;
$m-navbar-height: 40px;
$m-navbar-font-color: #ddd;//$m-font-color;
$m-navbar-font-color-hover: white; //$m-link-color-hover;
$m-navbar-menu-open-bg: $m-site-bg-color;
$m-navbar-menu-open-link: $m-link-color;
$m-navbar-menu-open-link-hover: $m-link-color-hover;
$m-page-menu-font-color: #808080;
$m-page-header-link-color: $m-link-color;
$m-page-header-link-color-hover: $m-link-color-hover;

// global footer
$m-footer-bg-color: $m-light-gray;
$m-footer-height: 165px;

// h1, h2, h3, ...
$m-h-font-color: #404040;
$m-h-font-color-alternative: $m-green-logo;

// titles in the page headers
$m-page-title-color: #505050;

// z-indexes
// TODO: not being used yet
$m-z-index-navbar: 100;
$m-z-index-dialog: 200;
$m-z-index-tooltip: 999999;

// In some browsers (e.g. firefox) when an image is not found it is replaced by the alternative
// text set to it, and the dimensions of the image won't respect the width/height set by the css.
// This might break the layout in some cases.
// So, if an element might have a broken image inside it, it can include this mixin to deal with it.
// The image will still be replaced by the text, but it shouldn't break the layout anymore.
// In some cases the element that includes this might also have to specify its own width and height.
@mixin broken-img-parent($float:left) {
  overflow: hidden;

  img:-moz-broken {
    float: $float;
    font-size: 8px;
    word-wrap: break-word;
    background: white;
  }
}

// user logos in a thread with several snippets
// e.g. list of posts, list of recent users, etc.
@mixin logo-in-thread {
  float: left;
  margin-right: 10px;

  img.logo {
    margin: 2px 0;
    padding: 2px;
    border: 1px solid #ddd;
    @include border-radius(2px);
    &:hover { border: 1px solid $m-focus-border-color; }

    // default dimensions for logos inside threads
    &.logo-space {
      width: 52px;
      height: 39px;
    }
    &.logo-user {
      width: 39px;
      height: 39px;
    }
    &.logo-user-big {
      width: 48px;
      height: 48px;
    }
    &.logo-removed {
      width: 39px;
      height: 39px;
    }
  }

  @include broken-img-parent;
}

@mixin mconf-clearfix {
  @include clearfix;
  @include pie-clearfix;
}

// to 'hide' it and move it off the screen
// we can't just hide it because it won't be clickable
@mixin hide-input-file {
  opacity: 0;
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 0;
  height: 0;

  label { display: none; }
  input[type=file] {
    opacity: 0;
    position: absolute;
    width: 0;
    height: 0;
  }
}

@mixin danger-text {
  color: $m-red;
  @include link-colors($m-red, lighten($m-red, 10), darken($m-red, 10));
}

@mixin set-sidebar-width($new-width) {
  #sidebar {
    width: $new-width;
  }
  #content-middle {
    width: $m-contents-width - $new-width - 20px; // less right-margin
  }
}

@mixin sidebar-position($pos) {
  @if $pos == 'left' {
    #sidebar {
      float: left;
    }
    #content-middle {
      float: right;
    }
  }
}

@function lighten-or-darken($bg, $color, $amountToLighten, $amountToDarken) {
  @if (lightness( $bg ) > 40) {
    $color: darken($color, $amountToDarken);
  }
  @else {
    $color: lighten($color, $amountToDarken);
  }
  @return $color;
}

//
// Methods below from: https://github.com/stubbornella/oocss
//
// Function for converting a px based font-size to rem.
@function calculate-rem($size) {
  $remSize: $size / 16px;
  // Default font size on html element is 100%, equivalent to 16px;
  @return #{$remSize}rem;
}
// Mixin that will include the fall back px declaration as well as the calculated rem value.
@mixin font-size($size) {
  font-size: $size;
  font-size: calculate-rem($size);
}

// Highlighted content blocks
@mixin block-wrapper-active {
  &.active {
    background: $m-alert-success-bg;
    .content-block, .list-thumbnail {
      border-color: darken($m-alert-success-bg, 15);
      border-width: 1px;
    }
  }
}

@mixin set-max-site-width {
  @media (min-width: $screen-lg-min) {
    max-width: $m-contents-max-width;
    margin-left: auto;
    margin-right: auto;
  }
}

@mixin link-on-menus {
  &:hover { text-decoration: none; }
}


// Bootstrap variables
// See all available at http://getbootstrap.com/customize/#less-variables
// Some we just define with their default values because we might need them when using
// bootstrap's mixins in other files (where we import bootstrap/mixins).
/* $input-color: #666; */
/* $grid-columns:              12; */
/* $grid-gutter-width:         30px; */
/* $grid-float-breakpoint:     768px; */

/*
 * Customized variables for bootstrap
 */
//$m-link-color: #367380;
// $btn-primary-bg: #5bc0de;
// $btnPrimaryBackgroundHighlight: #2f96b4;
$m-navbar-default-bg: #0a3138;
// $navbarBackgroundHighlight: #27535C;
