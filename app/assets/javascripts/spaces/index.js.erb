$(document).ready(function() {

  //$("#space_filter").show();

  $("#show-spaces_all").live("click", function() {
    $(".not-my-space").show(300);
  });

  $("#show-spaces_mine").live("click", function() {
    $(".not-my-space").hide(300);
  });

  $("#show-spaces_filter").live("click", function() {
    ///
  });

  filter_spaces = function(filter_text) {
    $("div.space-item").each(function() {
      if($(this).attr("name").toLowerCase().search(filter_text) >= 0) {
        $(this).css("display", "inline");
      } else {
        $(this).hide();
      }
    });
  }
  /////filter_spaces($("#space-name-filter").value.toLowerCase());

  $("#space-name-filter").keyup(function() {
    $("#show-spaces_filter").attr('checked', true);
    var filter_text = this.value.toLowerCase();
    filter_spaces(filter_text);
  });

  $(".space-item").hover(function () {
    // hide all descriptions and shows the selected
    var hovered = "div#" + $(this).attr("name") + "-description";
    $("#space-description-wrapper div.content").hide();
    $(hovered).show();

    // remove all 'selected' classes and adds only to the selected div
    $(".space-item.selected").removeClass("selected");
    $(this).addClass("selected");
  }, function () {});


  // move the space description in the sidebar to be always in
  // the visible space of the page when the page is scrolled
  $("#space-description-wrapper").sticky({topSpacing:20});

});
